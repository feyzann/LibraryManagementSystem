@{
    ViewData["Title"] = "Home Page";
}

@model IEnumerable<IleriWebProject.Models.Book>

<div class="container mt-4">
    <h1 class="display-5">Kitap Listesi</h1>
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>Kitap Adı</th>
                <th>Yazar</th>
                <th>Yayın Yılı</th>
                <th>Kategori</th>
                <th>Stok Adedi</th>
                <th>İşlemler</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var book in Model)
            {
                <tr>
                    <td>@book.BookName</td>
                    <td>@book.Author</td>
                    <td>@book.PublicationYear</td>
                    <td>@book.Category.CategoryName</td>
                    <td>@book.StockCount</td>
                    <td>
                        <button class="btn btn-primary" onclick="confirmBorrow(@book.BookId)">Kirala</button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<script>
    function confirmBorrow(bookId) {
        // Onay penceresini göster
        if (confirm('Bu kitabı kiralamak istediğinizden emin misiniz?')) {
            // Eğer onay alındıysa, kiralama işlemini başlat
            window.location.href = '/Home/BorrowBook/' + bookId;
        }
    }
</script>
